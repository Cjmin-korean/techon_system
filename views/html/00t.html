<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sticky Table Header</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        /* Sticky Header CSS */
        thead th {
            position: sticky;
            top: 0;
            background: white;
            z-index: 1;
        }
        /* Container height and scroll */
        #containers {
            height: 50vh;
            overflow-y: auto;
            overflow-x: auto;
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <button type="button" class="btn btn-primary btn-round ms-auto" data-bs-toggle="modal" data-bs-target="#productModal">
            <i class="fa fa-plus"></i> 추가(추가)
        </button>

        <div id="containers">
            <table class="table table-bordered" style="width: 300%; height: 200px; min-height: 200px;">
                <thead id="tableHead">
                    <tr>
                        <th>Header 1</th>
                        <th>Header 2</th>
                        <th>Header 3</th>
                        <!-- 추가 헤더들 -->
                    </tr>
                </thead>
                <tbody id="bomtableBody">
                    <!-- 행들이 여기 추가됩니다 -->
                </tbody>
            </table>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            console.log("DOMContentLoaded 이벤트 발생"); // 디버깅을 위한 로그 추가

            const addButton = document.querySelector('button[data-bs-toggle="modal"]');
            if (addButton) {
                addButton.addEventListener('click', function () {
                    console.log("추가 버튼 클릭됨"); // 디버깅을 위한 로그 추가

                    var container = document.getElementById('containers');
                    console.log(container); // 디버깅을 위한 로그 추가
                    if (container) {
                        container.scrollLeft = 0;
                        container.scrollTop = 0;
                        console.log("스크롤 위치 초기화됨"); // 디버깅을 위한 로그 추가
                    }

                    // Reset values
                    $('#bomtableBody').empty();

                    // Append new row
                    var newRow = $('<tr></tr>');

                    newRow.append('<td><button id="deleteRowBtn" class="btn btn-danger" style="background-color: red; color:white;">Delete</button></td>');
                    newRow.append('<td><button id="RowBtnadd-input" class="btn btn-primary">+</button></td>');
                    newRow.append('<td><input type="checkbox" id="check-input" style="text-align:right; width: 20px; height: 20px; cursor:pointer;" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" id="char-input" style="text-align:right;" value="1" autocomplete="off"></td>');
                    newRow.append('<td><input type="checkbox" id="main-edit" style="text-align:right; width: 20px; height: 20px; cursor:pointer;" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" id="materialname-input" placeholder="Tìm kiếm tên vật liệu(자재명검색)" style="cursor: pointer;" value="" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" id="materialclassification-input" readonly style="background-color:whitesmoke;" value="" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" id="etc-input" placeholder="Vui lòng nhập thông tin đặc biệt quan trọng(자재 특이사항을 입력하세요)" value="" autocomplete="off"></td>');
                    newRow.append('<td><input type="checkbox" id="chk1-input" style="width: 20px; height: 20px; cursor:pointer;" autocomplete="off"></td>');
                    newRow.append('<td><input type="checkbox" id="chk2-input" style="width: 20px; height: 20px; cursor:pointer;" autocomplete="off"></td>');
                    newRow.append('<td><input type="checkbox" id="chk3-input" style="width: 20px; height: 20px; cursor:pointer;" autocomplete="off" checked></td>');
                    newRow.append('<td><input type="text" style="text-align:right;" id="materialwidth-input" placeholder="con số(숫자)" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right;" id="useable-input" value="" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right;" id="onepidding-input" placeholder="con số(숫자)" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right;" id="twopidding-input" placeholder="con số(숫자)" value="0" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right; background-color: whitesmoke;" id="soyo-input" value="0" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right; background-color: whitesmoke;" id="ta-input" value="1" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right;" id="allta-input" value="1" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right;" id="talength-input" value="0" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right;" id="loss-input" value="3" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right;" id="costloss-input" value="3" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right; background-color: whitesmoke;" id="costsum-input" readonly value="0" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right; background-color: whitesmoke;" readonly id="materialaname-input" value="" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right; background-color: whitesmoke;" readonly id="width-input" value="" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right; background-color: whitesmoke;" readonly id="usewidth-input" value="" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right; background-color: whitesmoke;" readonly id="length-input" value="" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right; background-color: whitesmoke;" readonly id="rollprice-input" value="" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:center; background-color: whitesmoke;" readonly id="unit-input" value="" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:center; background-color: whitesmoke;" readonly id="manufacterer-input" value="" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:center; background-color: whitesmoke;" readonly id="supplier-input" value="" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:center; background-color: whitesmoke;" readonly id="codenumber-input" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right; background-color: whitesmoke;" readonly id="cost-input" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right; background-color: whitesmoke;" readonly id="rlcut-input" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right; background-color: whitesmoke;" readonly id="rlproduct-input" value="" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right; background-color: whitesmoke;" readonly id="hap-materialname-input" value="" autocomplete="off"></td>');
                    newRow.append('<td><input type="text" style="text-align:right; background-color: whitesmoke;" readonly id="hap-width-input" value="" autocomplete="off"></td>');

                    $('#bomtableBody').append(newRow);
                });
            }
        });
    </script>
</body>
</html>
