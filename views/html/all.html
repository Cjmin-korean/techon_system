<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>테이블 추가 예제</title>
</head>
<body>

<!-- 첫 번째 테이블 -->
<table border="1">
    <thead>
        <tr>
            <th>Name</th>
            <th>COUNT</th>
        </tr>
    </thead>
    <tbody id="table1Body">
      <tr>
        <td>A</td>
        <td id="countA">0</td>
      </tr>
      <tr>
        <td>B</td>
        <td id="countB">0</td>
      </tr>
    </tbody>
</table>

<br>

<!-- 두 번째 테이블 -->
<table border="1">
    <thead>
        <tr>
            <th>Name</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody id="table2Body">
        <!-- 여기에 데이터가 추가될 것입니다. -->
    </tbody>
</table>

<br>

<!-- 입력 텍스트박스와 버튼 -->
<label for="nameInput">이름:</label>
<input type="text" id="nameInput" oninput="validateInput()" inputmode="latin">
<button onclick="addToTable()">추가</button>

<script>
    function validateInput() {
        var inputElement = document.getElementById("nameInput");
        inputElement.value = inputElement.value.replace(/[^\w\d\s!"#$%&'()*+,-./:;<=>?@[\\\]^_`{|}~]/g, '').toUpperCase();
    }

    function addToTable() {
        // 입력된 이름 가져오기
        var name = document.getElementById("nameInput").value;

        // 두 번째 테이블의 tbody에 새로운 행 추가
        var table2Body = document.getElementById("table2Body");
        var newRow = table2Body.insertRow();
        var cell1 = newRow.insertCell(0);
        var cell2 = newRow.insertCell(1);
        cell1.innerHTML = name;
        cell2.innerHTML = "<button onclick='removeRow(this)'>삭제</button>";

        // 첫 번째 테이블에서 COUNT 증가
        if (name === "A") {
            var countA = document.getElementById("countA");
            countA.innerHTML = parseInt(countA.innerHTML) + 1;
        } else if (name === "B") {
            var countB = document.getElementById("countB");
            countB.innerHTML = parseInt(countB.innerHTML) + 1;
        }

        // 입력 텍스트박스 초기화
        document.getElementById("nameInput").value = "";
    }

    function removeRow(button) {
        var row = button.parentNode.parentNode; // 삭제 버튼이 속한 행 가져오기
        var name = row.cells[0].innerHTML; // 삭제할 행의 이름 가져오기

        // 첫 번째 테이블에서 COUNT 감소
        if (name === "A") {
            var countA = document.getElementById("countA");
            countA.innerHTML = Math.max(parseInt(countA.innerHTML) - 1, 0);
        } else if (name === "B") {
            var countB = document.getElementById("countB");
            countB.innerHTML = Math.max(parseInt(countB.innerHTML) - 1, 0);
        }

        // 두 번째 테이블에서 행 삭제
        row.parentNode.removeChild(row);
    }
</script>

</body>
</html>
