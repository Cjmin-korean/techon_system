<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Custom Dropdown with Keyboard Interaction</title>
</head>
<body>

<div class="custom-dropdown" tabindex="0" id="myCustomDropdown">
    <input type="text" class="dropdown-input" placeholder="Type to search">
    <div class="dropdown-list">
        <div class="dropdown-item">Option 1</div>
        <div class="dropdown-item">Option 2</div>
        <div class="dropdown-item">Option 3</div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var customDropdown = document.getElementById('myCustomDropdown');
        var dropdownInput = customDropdown.querySelector('.dropdown-input');
        var dropdownList = customDropdown.querySelector('.dropdown-list');
        var dropdownItems = customDropdown.querySelectorAll('.dropdown-item');

        // Show dropdown on focus
        customDropdown.addEventListener('focus', function () {
            dropdownList.style.display = 'block';
        });

        // Handle keyboard interaction
        customDropdown.addEventListener('keydown', function (event) {
            if (event.key === 'ArrowDown') {
                // Move selection down
                event.preventDefault(); // prevent page scroll
                focusNextItem();
            } else if (event.key === 'ArrowUp') {
                // Move selection up
                event.preventDefault(); // prevent page scroll
                focusPreviousItem();
            } else if (event.key === 'Enter') {
                // Select the focused item
                selectFocusedItem();
            }
        });

        // Hide dropdown on blur
        customDropdown.addEventListener('blur', function () {
            dropdownList.style.display = 'none';
        });

        // Handle item selection
        dropdownItems.forEach(function (item) {
            item.addEventListener('click', function () {
                dropdownInput.value = item.textContent;
                dropdownList.style.display = 'none';
            });
        });

        // Utility functions for keyboard interaction
        function focusNextItem() {
            var index = Array.from(dropdownItems).indexOf(document.activeElement);
            var nextIndex = (index + 1) % dropdownItems.length;
            dropdownItems[nextIndex].focus();
        }

        function focusPreviousItem() {
            var index = Array.from(dropdownItems).indexOf(document.activeElement);
            var prevIndex = (index - 1 + dropdownItems.length) % dropdownItems.length;
            dropdownItems[prevIndex].focus();
        }

        function selectFocusedItem() {
            dropdownInput.value = document.activeElement.textContent;
            dropdownList.style.display = 'none';
        }
    });
</script>

</body>
</html>
