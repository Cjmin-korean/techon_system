<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>테이블과 텍스트 박스 예제</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 20px;
        }

        table, th, td {
            border: 1px solid black;
        }

        th, td {
            padding: 10px;
            text-align: center;
        }

        .statusCell.ok {
            background-color: lime;
        }

        input {
            margin-top: 10px;
            padding: 5px;
        }
    </style>
</head>

<body>

    <!-- 텍스트 박스 -->
    <input type="text" id="myTextBox" placeholder="텍스트를 입력하세요" onkeypress="handleKeyPress()" autofocus>

    <!-- 테이블 -->
    <table>
        <thead>
            <tr>
                <th>자재명</th>
                <th>검수</th>
                <th>NO</th>
            </tr>
        </thead>
        <tbody id="tableBody">
            <tr>
                <td>TOOL-A</td>
                <td class="statusCell"></td>
                <td>TOOL-123</td>
            </tr>
            <tr>
                <td>TOOL-B</td>
                <td class="statusCell"></td>
                <td>TOOL-1234</td>
            </tr>
            <tr>
                <td>자재A</td>
                <td class="statusCell"></td>
                <td>M123</td>
            </tr>
            <tr>
                <td>자재B</td>
                <td class="statusCell"></td>
                <td>M1234</td>
            </tr>
            <tr>
                <td>금형A</td>
                <td class="statusCell"></td>
                <td>A12345</td>
            </tr>
            <!-- 추가 행을 여기에 반복하여 추가할 수 있습니다. -->
        </tbody>
    </table>

    <script>
        function handleKeyPress() {
            if (event.key === "Enter") {
                event.preventDefault();
                updateTable();
            }
        }

        function updateTable() {
            var textBoxValue = document.getElementById("myTextBox").value;

            // 테이블의 행 수를 얻어옵니다.
            var rowCount = document.getElementById("tableBody").rows.length;

            // 각 행에 대해 반복하면서 처리합니다.
            for (var i = 0; i < rowCount; i++) {
                var materialNo = document.getElementById("tableBody").rows[i].cells[2].textContent;
                var statusCell = document.getElementsByClassName("statusCell")[i];

                if (textBoxValue === materialNo) {
                    statusCell.textContent = "OK";
                    statusCell.classList.add("ok"); // "OK"인 경우 클래스를 추가하여 배경색을 변경합니다.
                    document.getElementById("myTextBox").value = "";
                } else {
                }
            }
        }
    </script>

</body>

</html>
