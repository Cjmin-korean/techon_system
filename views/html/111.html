<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    table {
        border-collapse: collapse;
        width: 50%;
        margin: 20px;
        float: left;
    }

    th,
    td {
        border: 1px solid #ccc;
        padding: 8px;
        text-align: center;
        height: 20px;
    }

    tr:hover td {
        background-color: lightblue;
        cursor: pointer;
    }

    .highlight {
        background-color: #ffd700;
        /* 강조 표시 색상 (노란색) */
    }
</style>

<body>
    <table id="table1">
        <thead>
            <tr>
                <th>Table 1 - Column 1</th>
                <th>Table 1 - Column 2</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td draggable="true">Data 1</td>
                <td draggable="true">Data 2</td>
            </tr>
            <tr>
                <td draggable="true">Data 3</td>
                <td draggable="true">Data 4</td>
            </tr>
        </tbody>
    </table>

    <table id="table2">
        <thead>
            <tr>
                <th>Table 2 - Column 1</th>
                <th>Table 2 - Column 2</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td></td>
                <td></td>
            </tr>
        </tbody>
    </table>

</body>
<script>
    var draggedItem = null;

    // 드래그 시작 시
    document.addEventListener("dragstart", function (event) {
        if (event.target.tagName === "TD" && event.target.closest("tbody")) {
            draggedItem = event.target;
        }
    });

    // 드래그 가능한 대상에 커서가 들어갈 때
    document.addEventListener("dragover", function (event) {
        event.preventDefault();
        var targetCell = event.target;

        // 드래그 가능한 대상이고 첫 번째 열인 경우
        if (draggedItem && targetCell.tagName === "TD" && targetCell.cellIndex === 0) {
            targetCell.classList.add("highlight"); // 드롭 대상 강조 표시
        }
    });

    // 드래그 가능한 대상에서 커서가 나갈 때
    document.addEventListener("dragleave", function (event) {
        var targetCell = event.target;

        // 드래그 가능한 대상이고 첫 번째 열인 경우
        if (targetCell.tagName === "TD" && targetCell.cellIndex === 0) {
            targetCell.classList.remove("highlight"); // 강조 표시 제거
        }
    });

    // 드롭 시
    document.addEventListener("drop", function (event) {
        var targetCell = event.target;

        // 드래그 가능한 대상이고 첫 번째 열인 경우
        if (draggedItem && targetCell.tagName === "TD" && targetCell.cellIndex === 0) {
            targetCell.classList.remove("highlight"); // 강조 표시 제거
            // 드래그 가능한 대상이고 두 번째 열인 경우
            if (draggedItem && targetCell.tagName === "TD" && targetCell.cellIndex === 0) {
                targetCell.classList.remove("highlight"); // 강조 표시 제거

                // Table 1의 데이터를 Table 2로 이동
                targetCell.textContent = draggedItem.parentElement.querySelectorAll("td")[1].textContent; // 데이터 복사
                draggedItem.parentElement.querySelectorAll("td")[1].textContent = ""; // 원래 데이터 제거
                targetCell.parentElement.querySelectorAll("td")[2].textContent = draggedItem.parentElement.querySelectorAll("td")[0].textContent; // 데이터 복사
                draggedItem.parentElement.querySelectorAll("td")[0].textContent = ""; // 원래 데이터 제거
            }

            // 새로운 행 생성   
            var newRow = document.createElement("tr");
            newRow.innerHTML = `<td>${data1}</td><td>${data2}</td>`;

            // 테이블 2에 새로운 행 추가
            targetCell.parentElement.parentElement.querySelector("tbody").appendChild(newRow);

            // 테이블 1에서 행 제거
            draggedItem.parentElement.remove();
        }
    });



</script>

</html>