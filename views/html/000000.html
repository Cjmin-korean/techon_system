<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>거래처정보</title>
<script src="https://unpkg.com/xlsx/dist/xlsx.full.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link rel="stylesheet" href="../css/main.css">
<link rel="stylesheet" href="../css/calendar.css">

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<head>
    <title>Table Data Move</title>
    <!-- <style>
        * {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }
        .contextmenu {
            display: none;
            position: absolute;
            width: 200px;
            margin: 0;
            padding: 0;
            background: #FFFFFF;
            border-radius: 5px;
            list-style: none;
            box-shadow:
                    0 15px 35px rgba(50,50,90,0.1),
                    0 5px 15px rgba(0,0,0,0.07);
            overflow: hidden;
            z-index: 999999;
        }

        .contextmenu li {
            border-left: 3px solid transparent;
            transition: ease .2s;
        }

        .contextmenu li a {
            display: block;
            padding: 10px;
            color: #B0BEC5;
            text-decoration: none;
            transition: ease .2s;
        }

        .contextmenu li:hover {
            background-color: rgb(255, 255, 255);
        }

        .selected-row {
            background-color: red;
            border: 2px solid red; /* 클릭된 행에 원하는 스타일을 적용하세요. */
        }
    </style> -->
</head>

<body>
<!-- <div id="popupOverlay1" style="display: none;">
    <div id="popupContent1" style="width: 700px; height: auto;">
        <div class="form-group">
            <table style="width:100%;">
                <tr>
                    <td style="background-color: black; color: white;">생산계획 확정</td>
                    <td style="visibility: hidden;"><input type="text" id="id-edit" class="data" autocomplete="off"
                            style="width:100%; border:1px solid silver; "></td>

                </tr>
                <tr>
                    <td style="width: 200px; background-color: whitesmoke; ">설비호기</td>
                    <td><select id="house-select">
                            <option>고속 1호기</option>
                            <option>고속 2호기</option>
                            <option>고속 3호기</option>
                            <option>고속 4호기</option>
                            <option>고속 5호기</option>
                            <option>고속 6호기</option>
                            <option>고속 7호기(1)</option>
                            <option>고속 7호기(2)</option>
                            <option>고속 8호기(1)</option>
                            <option>고속 8호기(2)</option>
                            <option>고속 9호기(1)</option>
                            <option>고속 9호기(2)</option>
                            <option>고속 10호기(1)</option>
                            <option>고속 10호기(2)</option>
                            <option>고속 11호기(1)</option>
                            <option>고속 11호기(2)</option>
                            <option>고속 12호기(1)</option>
                            <option>고속 12호기(2)</option>
                            <option>고속 13호기(1)</option>
                            <option>고속 13호기(2)</option>
                            <option>고속 14호기(1)</option>
                            <option>고속 14호기(2)</option>
                            <option>고속 15호기(1)</option>
                            <option>고속 15호기(2)</option>
                            <option>유압 1호기</option>
                            <option>유압 2호기</option>
                            <option>유압 3호기</option>
                            <option>유압 4호기</option>
                            <option>유압 5호기</option>


                        </select></td>
                </tr>


            </table>
        </div>
        <button id="popupCloseBtn-edit-close">취소</button>
        <button id="popupCloseBtn-edit" onclick="Dataedit()">저장</button>
    </div>
</div> -->
<div id="popupOverlay" style="display: none;">

    <div id="popupContent">
        <div class="form-group">
            <table style="width:100%;">
                <tr>
                    <td colspan="2" class="popup_title">생산계획 확정</td>
                <tr>
                    <td style="width: 200px">생산확정날짜</td>
                    <td>
                        <input type="text" id="plandate-save" class="data" autocomplete="off"
                               style="width: 200px; border: 1px solid silver;" readonly>
                        <label id="days-left-label"></label>
                    </td>
                </tr>

                <tr>
                    <td style="width: 200px">BOM NO.</td>
                    <td><input type="text" id="bomno-save" class="data" autocomplete="off"
                               style="width:auto; border:1px solid silver;" readonly></td>
                </tr>
                <tr>
                    <td style="width: 200px">모델명</td>
                    <td><input type="text" id="modelname-save" class="data" autocomplete="off"
                               style="width:auto; border:1px solid silver;" readonly></td>
                </tr>
                <tr>
                    <td style="width: 200px">품명</td>
                    <td><input type="text" id="itemname-save" class="data" autocomplete="off"
                               style="width:auto; border:1px solid silver;" readonly></td>
                </tr>
                <tr>
                    <td style="width: 200px">생산LOT</td>
                    <td><input type="text" id="lotno-save" class="data" autocomplete="off"
                               style="width:auto; border:1px solid silver;" readonly></td>
                </tr>
                <tr>
                    <td style="width: 200px">수량</td>
                    <td><input type="text" id="quantity-save" class="data" autocomplete="off"
                               style="width:auto; border:1px solid silver;"></td>
                </tr>
                <tr>
                    <td style="width: 200px">설비호기</td>
                    <td>
                        <select id="equipment-select" class="form-select">
                            <option value=""></option>
                        </select>
                    </td>

                </tr>


            </table>
        </div>
        <button id="popupCloseBtn-save-close">취소</button>
        <button id="popupCloseBtn-save" onclick="planinsert()">저장</button>
    </div>
</div>
<div class="calendar">
    <div class="month">
        <button class="prev-month">
            <img style="cursor:pointer;" src="../img/left-arrow.png"/>
        </button>
        <h1 id="month-year">2023년 9월</h1>
        <button class="next-month">
            <img style="cursor:pointer;" src="../img/right-arrow.png"/>
        </button>
    </div>
    <div class="dates">
        <!-- 여기에 날짜 버튼이 생성됩니다. -->
    </div>
</div>


<div id="datatable-container" style="width: 68%; float: left;">
    <table class="droppable" id="datatable">
        <thead>
        <tr>
            <th colspan="15" style="width: auto;  border: 1px solid rgb(231, 228, 228);;" id="plandate"></th>
        </tr>
        <tr>
            <th rowspan="2" style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);  ">
                호기(설비명)
            </th>
            <th rowspan="2" style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);  ">BOM
                NO.
            </th>
            <th rowspan="2" style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);  ">
                고객사
            </th>
            <th rowspan="2" style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228); ">
                모델명
            </th>
            <th rowspan="2" style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228); ">
                품명
            </th>
            <th rowspan="2" style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">
                총작업<br>차수
            </th>
            <th rowspan="2" style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228); ">
                라인계획<br>작업차수
            </th>
            <th rowspan="2" style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">
                생산LOT
            </th>
            <th rowspan="2" style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">
                작업지시<br>수량(PO)
            </th>
            <th rowspan="2" style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">
                누적
                생산<br>실적
            </th>
            <th rowspan="2" style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">
                작업지시<br>생산 잔량<br>(PO)
            </th>
            <th colspan="2" style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">
                반제품 계획실적
            </th>
            <th colspan="2" style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">
                완제품 계획실적
            </th>
        </tr>
        <tr>
            <th style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">
                금일계획
            </th>
            <th style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">
                금일실적
            </th>
            <th style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">
                금일계획
            </th>
            <th style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">
                금일실적
            </th>
        </tr>
        </thead>
        <tbody id="Datatbody">
        <!-- 여기에 데이터 행 추가 -->
        </tbody>
    </table>
</div>
<div id="datatable-container" style="width: 31%; float: right;">
    <table class="droppable" id="planstauts">
        <thead>
        <tr>
            <th colspan="8" rowspan="1"
                style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">생산확정리스트
            </th>

        </tr>
        <tr>


        </tr>

        <tr>
            <th style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">BOM NO.</th>
            <th style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">생산계획날짜</th>
            <th style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">모델명</th>
            <th style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">품명</th>
            <th style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">생산LOT</th>
            <th style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);">수량</th>
            <th style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);"></th>
            <th style="width: auto; font-size: 15px; border: 1px solid rgb(231, 228, 228);"></th>

        </tr>

        </thead>
        <tbody id="planstatustbody">
        <!-- 여기에 데이터 행 추가 -->
        </tbody>
    </table>
</div>
<!-- <ul class="contextmenu">
    <li><a>생산확정 취소</a></li>
</ul> -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.21/lodash.min.js"></script>

<script src="../js/calendar.js"></script>
<script src="../js/drag.js"></script>
<script src="../js/planinsert.js"></script>
<!-- <script>
    window.addEventListener("contextmenu", e => e.preventDefault());
    $(document).ready(function () {
        //Show contextmenu for dynamically added rows:
        // $(document).on('contextmenu', '#Datatbody', function (e) {
        $("#Datatbody").contextmenu(function(){
            // e.preventDefault(); // 기본 컨텍스트 메뉴 표시 막기
            $(".contextmenu").hide();
            console.log('tr click');
            // 모든 행에서 선택된 행 클래스를 제거
            $("#Datatbody tr").removeClass("selected-row");
            // 클릭된 행에 선택된 행 클래스 추가
            // $(this).addClass("selected-row");
            var rowIndex = ($('#Datatbody tr').index() - 3);
            console.log("우클릭된 행의 인덱스: " + rowIndex);

            // 여기에 우클릭 메뉴를 표시하는 코드를 추가하세요.

            // 기본 컨텍스트 메뉴를 막기 위해 return false;를 사용하세요.
            return false;
        });

        $("#Datatbody").contextmenu(function (e) {
            $(".contextmenu").hide();
            //Get window size:
            var winWidth = $(document).width();
            var winHeight = $(document).height();
            //Get pointer position:
            var posX = e.pageX;
            var posY = e.pageY;
            //Get contextmenu size:
            var menuWidth = $(".contextmenu").width();
            var menuHeight = $(".contextmenu").height();
            //Security margin:
            var secMargin = 10;
            //Prevent page overflow:
            if (posX + menuWidth + secMargin >= winWidth
                && posY + menuHeight + secMargin >= winHeight) {
                //Case 1: right-bottom overflow:
                posLeft = posX - menuWidth - secMargin + "px";
                posTop = posY - menuHeight - secMargin + "px";
            } else if (posX + menuWidth + secMargin >= winWidth) {
                //Case 2: right overflow:
                posLeft = posX - menuWidth - secMargin + "px";
                posTop = posY + secMargin + "px";
            } else if (posY + menuHeight + secMargin >= winHeight) {
                //Case 3: bottom overflow:
                posLeft = posX + secMargin + "px";
                posTop = posY - menuHeight - secMargin + "px";
            } else {
                //Case 4: default values:
                posLeft = posX + secMargin + "px";
                posTop = posY + secMargin + "px";
            };
            //Display contextmenu:
            $(".contextmenu").css({
                "left": posLeft,
                "top": posTop
            }).show();
            //Prevent browser default contextmenu.
            return false;
        });

        //Hide contextmenu:
        $(document).click(function () {
            $("#planstauts tr").removeClass("selected-row");
            $(".contextmenu").hide();
        });
    });
</script> -->




</body>

</html>