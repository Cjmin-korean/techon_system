<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get Local IPv4 Address</title>
    <script>
        function getLocalIPv4(callback) {
            var RTCPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;
            if (!RTCPeerConnection) {
                // WebRTC not supported
                callback(null);
                return;
            }

            var pc = new RTCPeerConnection({iceServers: []});
            var localIPs = {};
            var ipRegex = /([0-9]{1,3}(\.[0-9]{1,3}){3})/;
            var key;

            function handleCandidate(candidate) {
                var match = ipRegex.exec(candidate);
                if (match) {
                    var ip = match[1];
                    if (!localIPs[ip]) {
                        localIPs[ip] = true;
                        callback(ip);
                    }
                }
            }

            // Create a data channel
            pc.createDataChannel("");

            // Create an offer
            pc.createOffer().then(function(sdp) {
                sdp.sdp.split('\n').forEach(function(line) {
                    if (line.indexOf('candidate') >= 0) {
                        handleCandidate(line);
                    }
                });
                pc.setLocalDescription(sdp);
            }).catch(function(reason) {
                // An error occurred, so handle the failure to connect
                console.log('Offer failed: ', reason);
            });

            pc.onicecandidate = function(ice) {
                if (ice && ice.candidate && ice.candidate.candidate) {
                    handleCandidate(ice.candidate.candidate);
                }
            };
        }

        document.addEventListener('DOMContentLoaded', function() {
            getLocalIPv4(function(ip) {
                if (ip) {
                    document.getElementById('local-ip').textContent = 'Your local IPv4 address is: ' + ip;
                } else {
                    document.getElementById('local-ip').textContent = 'Could not determine local IPv4 address.';
                }
            });
        });
    </script>
</head>
<body>
    <h1>Your Local IPv4 Address</h1>
    <p id="local-ip">Loading...</p>
</body>
</html>
